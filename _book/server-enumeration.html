<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Server Enumeration | 2021 - Hacking Notes</title>
  <meta name="description" content="Full Pentest notebook" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Server Enumeration | 2021 - Hacking Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Full Pentest notebook" />
  <meta name="github-repo" content="https://github.com/mlopez66/hacking-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Server Enumeration | 2021 - Hacking Notes" />
  
  <meta name="twitter:description" content="Full Pentest notebook" />
  

<meta name="author" content="Lo0pInG 404" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="get-information-from-public-sources.html"/>
<link rel="next" href="web-enumeration.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/gitbook.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="header-light">
  <a class="logo" href="/">
    <img src="assets/wr404-transparent.png" alt="LoOpInG 404" class="img-fluid">
  </a>
  <h1>Lo0pInG 404</h1>
</li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknoledgement-1"><i class="fa fa-check"></i>Acknoledgement</a></li>
</ul></li>
<li class="part"><span><b>I Information Gathering</b></span></li>
<li class="chapter" data-level="" data-path="get-information-from-public-sources.html"><a href="get-information-from-public-sources.html"><i class="fa fa-check"></i>Get Information from public sources</a><ul>
<li class="chapter" data-level="" data-path="get-information-from-public-sources.html"><a href="get-information-from-public-sources.html#social-networks"><i class="fa fa-check"></i>Social Networks</a></li>
<li class="chapter" data-level="" data-path="get-information-from-public-sources.html"><a href="get-information-from-public-sources.html#public-sites"><i class="fa fa-check"></i>Public sites</a></li>
<li class="chapter" data-level="" data-path="get-information-from-public-sources.html"><a href="get-information-from-public-sources.html#whois"><i class="fa fa-check"></i>Whois</a></li>
<li class="chapter" data-level="" data-path="get-information-from-public-sources.html"><a href="get-information-from-public-sources.html#check-personnal-victim-website"><i class="fa fa-check"></i>Check personnal victim website</a></li>
<li class="chapter" data-level="" data-path="get-information-from-public-sources.html"><a href="get-information-from-public-sources.html#passive-enumeration"><i class="fa fa-check"></i>Passive Enumeration</a></li>
</ul></li>
<li class="part"><span><b>II Enumeration</b></span></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html"><i class="fa fa-check"></i>Server Enumeration</a><ul>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#ping-for-network-connectivity"><i class="fa fa-check"></i>Ping for Network connectivity</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#fping-to-enumerate-multiple-unknown-machines"><i class="fa fa-check"></i>fping to enumerate multiple unknown machines</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#nmap-for-machine-enumeration"><i class="fa fa-check"></i>NMAP for Machine Enumeration</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#port-scanner-with-bash"><i class="fa fa-check"></i>Port scanner with bash</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#use-specific-or-grouped-nmap-script-for-enumeration"><i class="fa fa-check"></i>Use specific or grouped nmap script for Enumeration</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#search-for-port-with-udp-protocol"><i class="fa fa-check"></i>Search for port with udp protocol</a><ul>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#get-snmp-community-string-with-onesixtyone"><i class="fa fa-check"></i>Get snmp community string with onesixtyone</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#enumerate-internal-services-and-processes-with-snmpwalk"><i class="fa fa-check"></i>Enumerate internal services and processes with snmpwalk</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#enumerate-internal-services-and-processed-with-nmap-scripts"><i class="fa fa-check"></i>Enumerate internal services and processed with nmap scripts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#ipv6-enumeration"><i class="fa fa-check"></i>IPV6 enumeration</a><ul>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#ping-a-machine-with-its-ipv6-address"><i class="fa fa-check"></i>Ping a machine with it’s ipv6 address</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#enumerate-ports-with-nmap-with-the-ipv6-address"><i class="fa fa-check"></i>Enumerate ports with nmap with the ipv6 address</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#display-ipv6-web-app-on-the-web-browser"><i class="fa fa-check"></i>Display ipv6 web app on the web browser</a></li>
<li class="chapter" data-level="" data-path="server-enumeration.html"><a href="server-enumeration.html#pass-from-mac-address-to-ipv6-link-local-address"><i class="fa fa-check"></i>Pass from MAC address to IPV6 link local address</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html"><i class="fa fa-check"></i>Web Enumeration</a><ul>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#check-if-web-app-is-under-a-waf"><i class="fa fa-check"></i>Check if web app is under a WAF</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#nmap-http-scripting"><i class="fa fa-check"></i>Nmap http scripting</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#whatweb"><i class="fa fa-check"></i>Whatweb</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#create-a-dictionary-with-the-elements-in-a-website"><i class="fa fa-check"></i>Create a dictionary with the elements in a website</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#fuzzing-with-wfuzz"><i class="fa fa-check"></i>Fuzzing with WFUZZ</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#fuzzing-with-dirbuster"><i class="fa fa-check"></i>Fuzzing with Dirbuster</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#fuzzing-with-dirb"><i class="fa fa-check"></i>Fuzzing with Dirb</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#wpscan-for-wordpress-webapps"><i class="fa fa-check"></i>WPScan for wordpress webapps</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#inspect-ssl-certificate"><i class="fa fa-check"></i>Inspect SSL certificate</a></li>
<li class="chapter" data-level="" data-path="web-enumeration.html"><a href="web-enumeration.html#use-curl-to-retrieve-user-or-information-in-the-webapp"><i class="fa fa-check"></i>Use curl to retrieve user or information in the webapp</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="steganography.html"><a href="steganography.html"><i class="fa fa-check"></i>Steganography</a><ul>
<li class="chapter" data-level="" data-path="steganography.html"><a href="steganography.html#look-at-info-with-file"><i class="fa fa-check"></i>Look at info with file</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html"><i class="fa fa-check"></i>Active Directory &amp; Windows Machines</a><ul>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html#interesting-windows-ports"><i class="fa fa-check"></i>Interesting Windows ports</a></li>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html#map-samba-exposed-shared-resources-with-smbmap"><i class="fa fa-check"></i>Map SAMBA exposed shared resources with smbmap</a></li>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html#smb-connection-with-smbclient-and-smbmap"><i class="fa fa-check"></i>SMB connection with smbclient and smbmap</a></li>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html#enumerate-machines-and-check-user-validity-by-samba-with-cme"><i class="fa fa-check"></i>Enumerate machines and check user validity by SAMBA with CME</a></li>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html#sniffing-traffic-for-samba-relay-with-responder"><i class="fa fa-check"></i>Sniffing traffic for SAMBA Relay with responder</a></li>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html#rpc-connection-with-rpcclient"><i class="fa fa-check"></i>RPC connection with rpcclient</a></li>
<li class="chapter" data-level="" data-path="active-directory-windows-machines.html"><a href="active-directory-windows-machines.html#enumerate-ldap-service-with-nmap"><i class="fa fa-check"></i>Enumerate ldap service with nmap</a></li>
</ul></li>
<li class="part"><span><b>III Vulnerabilies Assessment</b></span></li>
<li class="chapter" data-level="" data-path="searching-for-exploits.html"><a href="searching-for-exploits.html"><i class="fa fa-check"></i>Searching for exploits</a><ul>
<li class="chapter" data-level="" data-path="searching-for-exploits.html"><a href="searching-for-exploits.html#exploit-database"><i class="fa fa-check"></i>Exploit database</a></li>
<li class="chapter" data-level="" data-path="searching-for-exploits.html"><a href="searching-for-exploits.html#searchsploit"><i class="fa fa-check"></i>Searchsploit</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html"><i class="fa fa-check"></i>Web Vulneratilities</a><ul>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#lfi-local-file-inclusion"><i class="fa fa-check"></i>LFI (Local File inclusion)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#wrappers"><i class="fa fa-check"></i>Wrappers</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#log-poisoning"><i class="fa fa-check"></i>Log Poisoning</a><ul>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#apache2"><i class="fa fa-check"></i>Apache2</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#ssh-logs"><i class="fa fa-check"></i>ssh logs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#rfi-remote-file-inclusion"><i class="fa fa-check"></i>RFI (Remote File inclusion)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#html-injection"><i class="fa fa-check"></i>HTML Injection</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#xss-cross-site-scripting"><i class="fa fa-check"></i>XSS (Cross site scripting)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#xss-blind"><i class="fa fa-check"></i>XSS Blind</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#csrf-cross-site-request-forgery"><i class="fa fa-check"></i>CSRF (Cross-site Request Forgery)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#ssrf-server-side-request-forgery"><i class="fa fa-check"></i>SSRF (Server-Side Request Forgery)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#sql-injection---error-based"><i class="fa fa-check"></i>SQL Injection - Error Based</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#sql-injection---time-based"><i class="fa fa-check"></i>SQL Injection - Time Based</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#sql-injection---boolean-based"><i class="fa fa-check"></i>SQL Injection - Boolean Based</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#sqlmap"><i class="fa fa-check"></i>SQLMap</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#padding-oracle-attack-padbuster"><i class="fa fa-check"></i>Padding Oracle Attack (Padbuster)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#padding-oracle-attack-bit-flipper-attack---burpsuite"><i class="fa fa-check"></i>Padding Oracle Attack (Bit Flipper Attack - BurpSuite)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#shellshock"><i class="fa fa-check"></i>ShellShock</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#xxe-xml-external-entity-injection"><i class="fa fa-check"></i>XXE (XML External Entity Injection)</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#blind-xxe"><i class="fa fa-check"></i>Blind XXE</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#domain-zone-transfer"><i class="fa fa-check"></i>Domain Zone Transfer</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#insecure-deserialization"><i class="fa fa-check"></i>Insecure Deserialization</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#type-juggling"><i class="fa fa-check"></i>Type Juggling</a></li>
<li class="chapter" data-level="" data-path="web-vulneratilities.html"><a href="web-vulneratilities.html#ssti"><i class="fa fa-check"></i>SSTI</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html"><i class="fa fa-check"></i>Windows vulnerability</a><ul>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#use-scf-file-to-get-the-ntlmv2-hash"><i class="fa fa-check"></i>Use scf file to get the NTLMv2 hash</a></li>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#active-directory-enumeration"><i class="fa fa-check"></i>Active Directory Enumeration</a><ul>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#injesting-bloodhound-from-the-attacker-machine"><i class="fa fa-check"></i>Injesting bloodhound from the attacker machine</a></li>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#injesting-bloodhound-from-the-victim"><i class="fa fa-check"></i>Injesting bloodhound from the victim</a></li>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#install-bloodhound-and-run-it"><i class="fa fa-check"></i>Install bloodhound and run it</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#asreproasing-on-kerberos"><i class="fa fa-check"></i>ASREPRoasing on Kerberos</a></li>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#kerberoasting-attack"><i class="fa fa-check"></i>Kerberoasting attack</a><ul>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#kerberoasting-attack-on-victim-machine-with-rubeus"><i class="fa fa-check"></i>Kerberoasting attack on victim machine with rubeus</a></li>
<li class="chapter" data-level="" data-path="windows-vulnerability.html"><a href="windows-vulnerability.html#kerberoasting-attack-from-attacker-machine-with-impacket-getuserspns"><i class="fa fa-check"></i>Kerberoasting attack from attacker machine with impacket-GetUserSPNs</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Vuln exploit &amp; Gaining Access</b></span></li>
<li class="chapter" data-level="" data-path="beyond-remote-code-execution.html"><a href="beyond-remote-code-execution.html"><i class="fa fa-check"></i>Beyond Remote Code Execution</a></li>
<li class="chapter" data-level="" data-path="checking-if-code-execution-occurs.html"><a href="checking-if-code-execution-occurs.html"><i class="fa fa-check"></i>Checking if code execution occurs</a><ul>
<li class="chapter" data-level="" data-path="checking-if-code-execution-occurs.html"><a href="checking-if-code-execution-occurs.html#time-sleep-technic"><i class="fa fa-check"></i>Time sleep technic</a></li>
<li class="chapter" data-level="" data-path="checking-if-code-execution-occurs.html"><a href="checking-if-code-execution-occurs.html#check-network-connectivity"><i class="fa fa-check"></i>Check network connectivity</a></li>
<li class="chapter" data-level="" data-path="checking-if-code-execution-occurs.html"><a href="checking-if-code-execution-occurs.html#use-wget-and-netcat-to-execute-command"><i class="fa fa-check"></i>Use wget and netcat to execute command</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visible-remote-code-execution.html"><a href="visible-remote-code-execution.html"><i class="fa fa-check"></i>Visible remote code execution</a></li>
<li class="chapter" data-level="" data-path="gaining-access-throw-remote-code-execution.html"><a href="gaining-access-throw-remote-code-execution.html"><i class="fa fa-check"></i>Gaining access throw remote code execution</a><ul>
<li class="chapter" data-level="" data-path="gaining-access-throw-remote-code-execution.html"><a href="gaining-access-throw-remote-code-execution.html#listen-and-connection-with-netcat"><i class="fa fa-check"></i>Listen and connection with netcat</a></li>
<li class="chapter" data-level="" data-path="gaining-access-throw-remote-code-execution.html"><a href="gaining-access-throw-remote-code-execution.html#connection-with-curl"><i class="fa fa-check"></i>Connection with curl</a></li>
<li class="chapter" data-level="" data-path="gaining-access-throw-remote-code-execution.html"><a href="gaining-access-throw-remote-code-execution.html#spawning-a-terminal-from-a-shell"><i class="fa fa-check"></i>Spawning a terminal from a shell</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="use-sql-injection-for-create-a-reverse-shell.html"><a href="use-sql-injection-for-create-a-reverse-shell.html"><i class="fa fa-check"></i>Use SQL Injection for create a reverse shell</a><ul>
<li class="chapter" data-level="" data-path="use-sql-injection-for-create-a-reverse-shell.html"><a href="use-sql-injection-for-create-a-reverse-shell.html#postgresql"><i class="fa fa-check"></i>Postgresql</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html"><i class="fa fa-check"></i>Password Cracking</a><ul>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#password-cracking-with-johntheripper"><i class="fa fa-check"></i>Password Cracking with JohnTheRipper</a><ul>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#use-john-for-brute-force"><i class="fa fa-check"></i>Use John for brute force</a></li>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#use-john-for-dictionary-attack"><i class="fa fa-check"></i>Use John for dictionary attack</a></li>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#cracking-ssh-keys-protected-by-password"><i class="fa fa-check"></i>Cracking ssh keys protected by password</a></li>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#cracking-ftp-protected-by-password"><i class="fa fa-check"></i>Cracking ftp protected by password</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#use-websites-for-cracking-password"><i class="fa fa-check"></i>Use websites for cracking password</a></li>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#authentication-cracking"><i class="fa fa-check"></i>Authentication Cracking</a><ul>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#authentication-cracking-with-hydra"><i class="fa fa-check"></i>Authentication Cracking with Hydra</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="password-cracking.html"><a href="password-cracking.html#break-known-hash-algorithms-with-cyberchef"><i class="fa fa-check"></i>Break known hash algorithms with CyberChef</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pivoting.html"><a href="pivoting.html"><i class="fa fa-check"></i>Pivoting</a><ul>
<li class="chapter" data-level="" data-path="pivoting.html"><a href="pivoting.html#pivoting-with-chisel"><i class="fa fa-check"></i>Pivoting with chisel</a></li>
<li class="chapter" data-level="" data-path="pivoting.html"><a href="pivoting.html#pivoting-with-socat"><i class="fa fa-check"></i>Pivoting with socat</a></li>
<li class="chapter" data-level="" data-path="pivoting.html"><a href="pivoting.html#port-forwarding-with-ssh"><i class="fa fa-check"></i>Port forwarding with ssh</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="gaining-access-with-metasploit.html"><a href="gaining-access-with-metasploit.html"><i class="fa fa-check"></i>Gaining access with Metasploit</a><ul>
<li class="chapter" data-level="" data-path="gaining-access-with-metasploit.html"><a href="gaining-access-with-metasploit.html#search-for-a-proper-exploit"><i class="fa fa-check"></i>Search for a proper exploit</a></li>
<li class="chapter" data-level="" data-path="gaining-access-with-metasploit.html"><a href="gaining-access-with-metasploit.html#use-the-desired-exploit"><i class="fa fa-check"></i>Use the desired exploit</a></li>
<li class="chapter" data-level="" data-path="gaining-access-with-metasploit.html"><a href="gaining-access-with-metasploit.html#run-the-exploit"><i class="fa fa-check"></i>Run the exploit</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html"><i class="fa fa-check"></i>Windows Specific</a><ul>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#ms-sql-server"><i class="fa fa-check"></i>MS SQL Server</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#connect-to-machine-with-psexec"><i class="fa fa-check"></i>Connect to machine with PSEXEC</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#send-files-to-windows-machine"><i class="fa fa-check"></i>Send files to windows machine</a><ul>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#download-files-with-certutil"><i class="fa fa-check"></i>Download files with certutil</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#download-files-by-using-powershell"><i class="fa fa-check"></i>Download files by using Powershell</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#share-smb-directory-with-windows-machine"><i class="fa fa-check"></i>Share SMB directory with Windows Machine</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#connection-throw-winrm-with-evil-winrm"><i class="fa fa-check"></i>Connection throw WinRM with evil-winrm</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#exploit-getchangesall-privilege-vulnerability"><i class="fa fa-check"></i>Exploit GetChangesAll privilege vulnerability</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#powershell-access-with-nishang"><i class="fa fa-check"></i>Powershell access with Nishang</a><ul>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#invoke-powershelltcp.ps1"><i class="fa fa-check"></i>Invoke-PowerShelltcp.ps1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#create-a-reverse-shell-with-msfvenom"><i class="fa fa-check"></i>Create a reverse shell with msfvenom</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#bypass-constraint-language-in-a-powershell"><i class="fa fa-check"></i>Bypass Constraint Language in a PowerShell</a></li>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#shells-for-windows"><i class="fa fa-check"></i>Shells for windows</a><ul>
<li class="chapter" data-level="" data-path="windows-specific.html"><a href="windows-specific.html#php"><i class="fa fa-check"></i>PHP</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Privilege Escalation</b></span></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html"><i class="fa fa-check"></i>Linux Machine</a><ul>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#writable-rights-in-etcpasswd"><i class="fa fa-check"></i>Writable rights in /etc/passwd</a></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#local-port-forwarding"><i class="fa fa-check"></i>Local Port forwarding</a></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#add-ssuid-privilege-to-tool"><i class="fa fa-check"></i>Add SSUID privilege to tool</a></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#path-hijacking"><i class="fa fa-check"></i>Path Hijacking</a></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#library-hijacking"><i class="fa fa-check"></i>Library Hijacking</a></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#wildcards"><i class="fa fa-check"></i>WildCards</a></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#linux-capabilities-exploitation"><i class="fa fa-check"></i>Linux capabilities exploitation</a></li>
<li class="chapter" data-level="" data-path="linux-machine.html"><a href="linux-machine.html#kernel-abuse"><i class="fa fa-check"></i>Kernel abuse</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html"><i class="fa fa-check"></i>Windows Machine</a><ul>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html#active-directory"><i class="fa fa-check"></i>Active Directory</a><ul>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html#golden-ticket-attack"><i class="fa fa-check"></i>Golden Ticket Attack</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html#check-possible-privilege-escalation-vulnerabilities"><i class="fa fa-check"></i>Check possible privilege escalation vulnerabilities</a></li>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html#check-command-history"><i class="fa fa-check"></i>Check command history</a></li>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html#check-local-open-ports"><i class="fa fa-check"></i>Check local open ports</a></li>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html#juicypotato"><i class="fa fa-check"></i>JuicyPotato</a></li>
<li class="chapter" data-level="" data-path="windows-machine.html"><a href="windows-machine.html#system-enumeration-with-powerup-for-privesc"><i class="fa fa-check"></i>System enumeration with PowerUp for Privesc</a></li>
</ul></li>
<li class="divider"></li>
<li class="summary-footer"><a class="logo" href="https://lopezmichel.org"><img alt="IPESE" src="assets/wr404-transparent.png"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">2021 - Hacking Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="server-enumeration" class="section level1 unnumbered">
<h1>Server Enumeration</h1>
<div id="ping-for-network-connectivity" class="section level2 unnumbered">
<h2>Ping for Network connectivity</h2>
<p>Ping is a simple tool that allows attackers to know if they can connect to a machine. Ping gives some other informations that can be helpfull.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="server-enumeration.html#cb2-1"></a><span class="fu">ping</span> -c 1 <span class="op">&lt;</span>ip<span class="op">&gt;</span></span></code></pre></div>
<p>the output looks like following:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="server-enumeration.html#cb3-1"></a><span class="co"># ouput</span></span>
<span id="cb3-2"><a href="server-enumeration.html#cb3-2"></a></span>
<span id="cb3-3"><a href="server-enumeration.html#cb3-3"></a><span class="ex">PING</span> 0.0.0.0 (127.0.0.1) <span class="ex">56</span>(84) <span class="ex">bytes</span> of data.</span>
<span id="cb3-4"><a href="server-enumeration.html#cb3-4"></a><span class="ex">64</span> bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.034 ms</span>
<span id="cb3-5"><a href="server-enumeration.html#cb3-5"></a></span>
<span id="cb3-6"><a href="server-enumeration.html#cb3-6"></a><span class="ex">---</span> 0.0.0.0 ping statistics ---</span>
<span id="cb3-7"><a href="server-enumeration.html#cb3-7"></a><span class="ex">1</span> packets transmitted, 1 received, 0% packet loss, time 0ms</span>
<span id="cb3-8"><a href="server-enumeration.html#cb3-8"></a><span class="ex">rtt</span> min/avg/max/mdev = 0.034/0.034/0.034/0.000 ms</span></code></pre></div>
<p>If you see that you have 1 packet transmitted and 1 received, you know that you have an established connection to the server.
One relevant information that you can have with the <strong>PING</strong> tool is the ttl because this inoformation allows the attacker to
know the operating system of the server:</p>
<ul>
<li>ttl 64 -&gt; Linux</li>
<li>ttl 128 -&gt; Windows</li>
</ul>
<p>Sometimes the number is not exactly 64 or 128 but is near to those numbers. It’s because packets are traveling throw other servers
before accessing the victim server. If it’s the case, you can check the trace route with the following command.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="server-enumeration.html#cb4-1"></a><span class="fu">ping</span> -c 1 <span class="op">&lt;</span>ip<span class="op">&gt;</span> -R</span></code></pre></div>
</div>
<div id="fping-to-enumerate-multiple-unknown-machines" class="section level2 unnumbered">
<h2>fping to enumerate multiple unknown machines</h2>
<p><strong>fping</strong> is a tool that extends the capabilities of ping in order to enumerate multiple machines in a network</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="server-enumeration.html#cb5-1"></a><span class="ex">fping</span> -a -g 192.168.1.0/24 <span class="op">2&gt;</span>/dev/null <span class="op">&gt;</span> targets.txt</span></code></pre></div>
</div>
<div id="nmap-for-machine-enumeration" class="section level2 unnumbered">
<h2>NMAP for Machine Enumeration</h2>
<p>NMAP is a tool that allows attackers to enumerate the victime machine to understand about wich kind of machine type, services, ports etc he will be confronted.</p>
<p>You can check the open ports of the server with the following command:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="server-enumeration.html#cb6-1"></a><span class="fu">nmap</span> -p- --open -T5 -v -n <span class="op">&lt;</span>ip<span class="op">&gt;</span></span></code></pre></div>
<ul>
<li>The -p- option is to tell nmap to check the all 65535 ports of the server</li>
<li>–open is the option to tell nmap to return only the ports that are open</li>
<li>-T{1,2,3,4,5} is the option to adjust timing to aggressive mode (1 lowest and 5 biggest aggressivity)</li>
<li>-v is for being in a verbose mode (output result as soon as a port is open)</li>
<li>-n is for telling nmap to not apply dns resolution</li>
</ul>
<p>you can check the speed of the scan by pressing multiple time the enter key. If you think that the scan is to slow, you can manage the minimum number of packets should
send per second. If you use this option, it’s no more necessary to use the <strong>-T{1,2,3,4,5}</strong> option</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="server-enumeration.html#cb7-1"></a><span class="fu">nmap</span> -p- -sS --min-rate 5000 --open -vvv -n -Pn <span class="op">&lt;</span>ip<span class="op">&gt;</span> -oG allPorts</span></code></pre></div>
<ul>
<li>The -sS option tells nmap to do a stealth scan with tcp syn port scan</li>
<li>–min-rate 5000 is for telling nmap to send a minimum of 5000 packets per second</li>
<li>-vvv is a triple verbose mode to retrieve more information</li>
<li>-n to not apply dns resolution</li>
<li>-Pn for treat all hosts as online – skip host discovery</li>
<li>-o{A,X,N,G} is to select the output format A for all formats, X for xml, N for the nmpa format and G for Grepeable format</li>
</ul>
<p>As soon as the attacker knows the ports used by the server, you can tell nmap to run enumeration scripts to those ports</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="server-enumeration.html#cb8-1"></a><span class="fu">nmap</span> -sC -sV -p<span class="op">&lt;</span>ports<span class="op">&gt;</span> <span class="op">&lt;</span>ip<span class="op">&gt;</span> -oN targeted</span></code></pre></div>
<ul>
<li>-sC stands for activate the Nmap Scripting Engine. -sC performs a script scan using the default set of scripts (it’s the same as –script=default)</li>
<li>-sV stands for script of version detection</li>
</ul>
</div>
<div id="port-scanner-with-bash" class="section level2 unnumbered">
<h2>Port scanner with bash</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="server-enumeration.html#cb9-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb9-2"><a href="server-enumeration.html#cb9-2"></a></span>
<span id="cb9-3"><a href="server-enumeration.html#cb9-3"></a><span class="kw">function</span><span class="fu"> ctrl_c()</span><span class="kw">{</span></span>
<span id="cb9-4"><a href="server-enumeration.html#cb9-4"></a>    <span class="bu">echo</span> -e <span class="st">&quot;\n[!] exit...&quot;</span></span>
<span id="cb9-5"><a href="server-enumeration.html#cb9-5"></a>    <span class="ex">tput</span> cnorm<span class="kw">;</span> <span class="bu">exit</span> 1</span>
<span id="cb9-6"><a href="server-enumeration.html#cb9-6"></a><span class="kw">}</span></span>
<span id="cb9-7"><a href="server-enumeration.html#cb9-7"></a></span>
<span id="cb9-8"><a href="server-enumeration.html#cb9-8"></a><span class="co"># Ctrl+C</span></span>
<span id="cb9-9"><a href="server-enumeration.html#cb9-9"></a><span class="bu">trap</span> ctrl_c intrusive</span>
<span id="cb9-10"><a href="server-enumeration.html#cb9-10"></a></span>
<span id="cb9-11"><a href="server-enumeration.html#cb9-11"></a><span class="ex">tput</span> civis</span>
<span id="cb9-12"><a href="server-enumeration.html#cb9-12"></a><span class="kw">for</span> <span class="ex">port</span> in <span class="va">$(</span><span class="fu">seq</span> 1 65535<span class="va">)</span><span class="kw">;</span> <span class="kw">do</span></span>
<span id="cb9-13"><a href="server-enumeration.html#cb9-13"></a>    <span class="ex">timeout</span> 1 bash -c <span class="st">&quot;echo &#39;&#39; &gt; /dev/tcp/10.10.10.11/</span><span class="va">$port</span><span class="st">&quot;</span> <span class="op">2&gt;</span>/dev/null <span class="kw">&amp;&amp;</span> <span class="bu">echo</span> <span class="st">&quot;[+] Port </span><span class="va">$port</span><span class="st"> - OPEN&quot;</span> <span class="kw">&amp;</span></span>
<span id="cb9-14"><a href="server-enumeration.html#cb9-14"></a><span class="kw">done</span>; <span class="bu">wait</span></span>
<span id="cb9-15"><a href="server-enumeration.html#cb9-15"></a><span class="ex">tput</span> cnorm</span></code></pre></div>
</div>
<div id="use-specific-or-grouped-nmap-script-for-enumeration" class="section level2 unnumbered">
<h2>Use specific or grouped nmap script for Enumeration</h2>
<p>first you need to update de system database in order to syncronize every files at system level in a database. That helps tools like
<strong>locate</strong> to find files in the machine. The files we want to search are the .nse scripts of nmap and look for them categories.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="server-enumeration.html#cb10-1"></a><span class="fu">updatedb</span></span>
<span id="cb10-2"><a href="server-enumeration.html#cb10-2"></a><span class="fu">locate</span> .nse <span class="kw">|</span> <span class="fu">wc</span> -l <span class="co"># to check the number of scripts</span></span>
<span id="cb10-3"><a href="server-enumeration.html#cb10-3"></a><span class="fu">locate</span> .nse</span>
<span id="cb10-4"><a href="server-enumeration.html#cb10-4"></a><span class="fu">locate</span> .nse <span class="kw">|</span> <span class="fu">xargs</span> grep <span class="st">&quot;categories&quot;</span></span>
<span id="cb10-5"><a href="server-enumeration.html#cb10-5"></a><span class="fu">locate</span> .nse <span class="kw">|</span> <span class="fu">xargs</span> grep <span class="st">&quot;categories&quot;</span> <span class="kw">|</span> <span class="fu">grep</span> -oP <span class="st">&#39;&quot;.*?&quot;&#39;</span></span>
<span id="cb10-6"><a href="server-enumeration.html#cb10-6"></a><span class="fu">locate</span> .nse <span class="kw">|</span> <span class="fu">xargs</span> grep <span class="st">&quot;categories&quot;</span> <span class="kw">|</span> <span class="fu">grep</span> -oP <span class="st">&#39;&quot;.*?&quot;&#39;</span> <span class="kw">|</span> <span class="fu">sort</span> -u <span class="kw">|</span> <span class="fu">wc</span> -l</span>
<span id="cb10-7"><a href="server-enumeration.html#cb10-7"></a><span class="fu">locate</span> .nse <span class="kw">|</span> <span class="fu">xargs</span> grep <span class="st">&quot;categories&quot;</span> <span class="kw">|</span> <span class="fu">grep</span> -oP <span class="st">&#39;&quot;.*?&quot;&#39;</span> <span class="kw">|</span> <span class="fu">sort</span> -u</span>
<span id="cb10-8"><a href="server-enumeration.html#cb10-8"></a><span class="co">#Output</span></span>
<span id="cb10-9"><a href="server-enumeration.html#cb10-9"></a><span class="st">&quot;auth&quot;</span></span>
<span id="cb10-10"><a href="server-enumeration.html#cb10-10"></a><span class="st">&quot;broadcast&quot;</span></span>
<span id="cb10-11"><a href="server-enumeration.html#cb10-11"></a><span class="st">&quot;brute&quot;</span></span>
<span id="cb10-12"><a href="server-enumeration.html#cb10-12"></a><span class="st">&quot;default&quot;</span></span>
<span id="cb10-13"><a href="server-enumeration.html#cb10-13"></a><span class="st">&quot;discovery&quot;</span></span>
<span id="cb10-14"><a href="server-enumeration.html#cb10-14"></a><span class="st">&quot;dos&quot;</span></span>
<span id="cb10-15"><a href="server-enumeration.html#cb10-15"></a><span class="st">&quot;exploit&quot;</span></span>
<span id="cb10-16"><a href="server-enumeration.html#cb10-16"></a><span class="st">&quot;external&quot;</span></span>
<span id="cb10-17"><a href="server-enumeration.html#cb10-17"></a><span class="st">&quot;fuzzer&quot;</span></span>
<span id="cb10-18"><a href="server-enumeration.html#cb10-18"></a><span class="st">&quot;intrusive&quot;</span></span>
<span id="cb10-19"><a href="server-enumeration.html#cb10-19"></a><span class="st">&quot;malware&quot;</span></span>
<span id="cb10-20"><a href="server-enumeration.html#cb10-20"></a><span class="st">&quot;safe&quot;</span></span>
<span id="cb10-21"><a href="server-enumeration.html#cb10-21"></a><span class="st">&quot;version&quot;</span></span>
<span id="cb10-22"><a href="server-enumeration.html#cb10-22"></a><span class="st">&quot;vuln&quot;</span></span></code></pre></div>
<p>You can then run nmap with scripts from specific categories.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="server-enumeration.html#cb11-1"></a><span class="fu">nmap</span> -p445 10.10.10.40 --script <span class="st">&quot;vuln and safe&quot;</span> -oN smbScan</span></code></pre></div>
</div>
<div id="search-for-port-with-udp-protocol" class="section level2 unnumbered">
<h2>Search for port with udp protocol</h2>
<p>Sometimes the standard enumeration that you do with nmap will not give you the entire list of open ports and that can be because
some ports are open by <strong>udp</strong> and not <strong>tcp</strong>.</p>
<p>You can still use <strong>nmap</strong> to check those ports with the <code>-sU</code> argument, but you have to know that the scan will take a while so you can check for a small range of ports or for
kown services port number that can help the attacker like the 161 for snmp and the port 69 for tftp.</p>
<ul>
<li><p>Check small range of ports</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="server-enumeration.html#cb12-1"></a><span class="fu">nmap</span> -p 1-1000 --open -T5 -sU -v 10.10.10.10</span></code></pre></div></li>
<li><p>Check for specific port</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="server-enumeration.html#cb13-1"></a><span class="fu">nmap</span> -p161 --open -T5 -sU -v 10.10.10.10</span></code></pre></div></li>
</ul>
<p>Other tools can help attackers to reach information of services like the snmp one.</p>
<div id="get-snmp-community-string-with-onesixtyone" class="section level3 unnumbered">
<h3>Get snmp community string with onesixtyone</h3>
<p><strong>onesixtyone</strong> is a tool that will make active enumeration of the snmp service by bruteforcing with community strings in order to find the right community string.
But why is it so interesting to get this famous community string? Because as soon as the attacker knows this community string, he can enumerate internal services and
privileges information of the machine.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="server-enumeration.html#cb14-1"></a><span class="ex">onesixtyone</span> 10.10.10.10</span>
<span id="cb14-2"><a href="server-enumeration.html#cb14-2"></a></span>
<span id="cb14-3"><a href="server-enumeration.html#cb14-3"></a><span class="co">#Output</span></span>
<span id="cb14-4"><a href="server-enumeration.html#cb14-4"></a></span>
<span id="cb14-5"><a href="server-enumeration.html#cb14-5"></a><span class="ex">10.10.10.10</span> [public]</span></code></pre></div>
<p>In this case onesixtyone find that the community string used is the public one.
By default, onesixtyone only try the two most common community strings that are public and private. But there is more community strings possibilities and
onesixtyone can use a dictionnary to bruteforce the community strings.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="server-enumeration.html#cb15-1"></a><span class="ex">onesixtyone</span> -c /opt/SecLists/Discovery/SNMP/common-snmp-community_strings.txt 10.10.10.10</span></code></pre></div>
</div>
<div id="enumerate-internal-services-and-processes-with-snmpwalk" class="section level3 unnumbered">
<h3>Enumerate internal services and processes with snmpwalk</h3>
<p><strong>snmpwalk</strong> is an enumeration tool take advantage of snmp vulnerability as soon as the attacker knows the community string.
The output of snmpwalk is not easy to understand and it’s recommended to first install snmp-mibs-downloader.</p>
<ol style="list-style-type: decimal">
<li><p>install snmp-mibs-downloader</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="server-enumeration.html#cb16-1"></a><span class="fu">sudo</span> apt install snmp-mibs-downloader</span></code></pre></div></li>
<li><p>comment mibs: in snmp.conf to configure snmp-mibs-downloader in order to be used with snmpwalk</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="server-enumeration.html#cb17-1"></a><span class="fu">nano</span> /etc/snmp/snmp.conf</span>
<span id="cb17-2"><a href="server-enumeration.html#cb17-2"></a></span>
<span id="cb17-3"><a href="server-enumeration.html#cb17-3"></a><span class="co"># mibs:</span></span></code></pre></div></li>
</ol>
<p>You can now run snmpwalk and use the community string find by <strong>onesixtyone</strong> with the <code>-c</code> argument.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="server-enumeration.html#cb18-1"></a><span class="ex">snmpwalk</span> -c public -v2c 10.10.10.10</span></code></pre></div>
</div>
<div id="enumerate-internal-services-and-processed-with-nmap-scripts" class="section level3 unnumbered">
<h3>Enumerate internal services and processed with nmap scripts</h3>
<p>As you already know <strong>Nmap</strong> have a lot of scripts and some of them are very usefull for enumerating snmp service.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="server-enumeration.html#cb19-1"></a><span class="fu">locate</span> .nse <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&quot;snmp&quot;</span></span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-2"></span>
<img src="images/nmap-snmp-scripts.png" alt="nmap snmp scripts" width="90%" />
<p class="caption">
Figure 1: nmap snmp scripts
</p>
</div>
<p>Interesting scripts are the <code>snmp-processes</code> or the <code>snmp-interfaces</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="server-enumeration.html#cb20-1"></a><span class="fu">nmap</span> --script snmp-processes -p161 -sU 10.10.10.10 -v -oN processesSNMP</span>
<span id="cb20-2"><a href="server-enumeration.html#cb20-2"></a><span class="fu">nmap</span> --script snmp-interfaces -p161 -sU 10.10.10.10 -v -oN interfaces</span></code></pre></div>
</div>
</div>
<div id="ipv6-enumeration" class="section level2 unnumbered">
<h2>IPV6 enumeration</h2>
<div id="ping-a-machine-with-its-ipv6-address" class="section level3 unnumbered">
<h3>Ping a machine with it’s ipv6 address</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="server-enumeration.html#cb21-1"></a><span class="fu">ping</span> -6 -c1 dead:beef::0250:56ff:feb9:dbf3</span></code></pre></div>
</div>
<div id="enumerate-ports-with-nmap-with-the-ipv6-address" class="section level3 unnumbered">
<h3>Enumerate ports with nmap with the ipv6 address</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="server-enumeration.html#cb22-1"></a><span class="fu">nmap</span> -sS -p- --open --min-rate 5000 -vvv -n -Pn -6 dead:beef::0250:56ff:feb9:dbf3</span></code></pre></div>
</div>
<div id="display-ipv6-web-app-on-the-web-browser" class="section level3 unnumbered">
<h3>Display ipv6 web app on the web browser</h3>
<p>In order to display a web app from an ipv6 address you have to put the ipv6 address between brackets: <code>[dead:beef::250:56ff:feb9:dbf3]</code></p>
</div>
<div id="pass-from-mac-address-to-ipv6-link-local-address" class="section level3 unnumbered">
<h3>Pass from MAC address to IPV6 link local address</h3>
<p>When you find a MAC address, it’s possible, following a procedure to convert this address to the IPv6 link-local address.</p>
<p>In the following example we will convert the MAC address 11:22:33:44:55:66</p>
<ol style="list-style-type: decimal">
<li>Convert the first octet (11) from hexadecimal to binary
<ul>
<li><strong>11</strong>:22:33:44:55:66<br />
</li>
<li>11 -&gt; 0001 0001<br />
</li>
</ul></li>
<li>Invert the 7th bit (if it’s 0 put 1, if it’s 1 put 0)
<ul>
<li>0001 00<strong>0</strong>1 -&gt; 0001 00<strong>1</strong>1<br />
</li>
</ul></li>
<li>Convert the octet back into hexadecimal
<ul>
<li>0001 -&gt; 1<br />
</li>
<li>0011 -&gt; 3<br />
</li>
<li><strong>0001 0011 -&gt; 13</strong><br />
</li>
</ul></li>
<li>Replace the original first octet with the newly converted one
<ul>
<li><strong>11</strong>:22:33:44:55:66 -&gt; <strong>13</strong>:22:33:44:55:66<br />
</li>
</ul></li>
<li>Add <strong>ff:fe</strong> to the middle of the new MAC address
<ul>
<li>13:22:33:<strong>ff:fe</strong>:44:55:66<br />
</li>
</ul></li>
<li>Add <strong>dead:beef::</strong> to the beginning of the address
<ul>
<li><strong>dead:beef::</strong>13:22:33:ff:fe:44:55:66<br />
</li>
</ul></li>
<li>group everything by 4 hex digits
<ul>
<li>dead:beef::1322:33ff:fe44:5566</li>
</ul></li>
</ol>
<blockquote>
<p>[!] Note: In some documentation they talk about putting <strong>fe80::</strong> instead of <strong>dead:beef::</strong> but seams to be the same.</p>
</blockquote>

</div>
</div>
</div>
<div class="page-inner">
    <section class="normal" id="section-">
        <div class="copyright">
          &copy; 2021 - Lo0pInG 404 <a href="https://michellopez.org">[michellopez.org]</a>
        </div>
    </section>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="get-information-from-public-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="web-enumeration.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mlopez66/hacking-notes/edit/master/02-Enumeration/02-00-server.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["2021-Hacking-Notes.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
